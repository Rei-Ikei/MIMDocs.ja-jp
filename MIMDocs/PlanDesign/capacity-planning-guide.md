---
# required metadata

title: 容量計画ガイド |Microsoft Identity Manager
description: このガイドを使用して、負荷レベルやポリシーの決定など、MIM 2016 を展開する前に考慮すべき変数を理解します。
keywords:
author: kgremban
manager: stevenpo
ms.date: 04/28/2016
ms.topic: article
ms.prod: identity-manager-2015
ms.service: microsoft-identity-manager
ms.technology: security
ms.assetid: 3ac5b990-1678-4996-996d-cbd84b8426b4

# optional metadata

#ROBOTS:
#audience:
#ms.devlang:
ms.reviewer: mwahl
ms.suite: ems
#ms.tgt_pltfrm:
#ms.custom:

---

# 容量計画ガイド

このガイドは、お客様の計画を支援するために作成されていますが、このガイドだけを使用して適切なサーバー、ハードウェア、または Microsoft Identity Manager (MIM) の展開に必要なトポロジを決定しないでください。 組織では、独自のテスト環境を構成して、より正確に容量とパフォーマンスを予測することをお勧めします。 MIM 2016 コンポーネントを展開し、このガイドに記載されているとおりにコンポーネントを構成しても、組織が同じ容量またはパフォーマンス特性を達成できるとは保証できません。

正しく MIM を展開するために準備するには、ラボの設定で予想される実稼働環境をシミュレートしてテストします。 さまざまな種類のハードウェアで実行されているさまざまなトポロジをテストした後、異なるスケールと負荷のシナリオ テストを実行することで、環境内に MIM 2016 を展開したときに発生することをより正確に予測するのに役立ちます。


## 概要
全体の容量と Microsoft Identity Manager の展開のパフォーマンスに影響する可能性のある多くの変数があります。 物理的に MIM コンポーネント (トポロジ) を展開する方法と、これらのコンポーネントを実行するハードウェアは、MIM 展開から予想されるパフォーマンスと容量を決定する際の重要な要因となります。 MIM ポリシーの構成オブジェクトの数と複雑さはわかりにくい場合がありますが、それでも容量を計画する際に考慮すべき重要な要素です。 最後に、予想される展開のスケールと、それに対する負荷は、一般的にパフォーマンスと容量に影響を与えるより明白な要素です。

MIM 2016 の展開により予想される容量とパフォーマンスに影響を与える主な要素を、次の表で説明します。

| 設計要素 | 考慮事項 |
| ------------- | -------------- |
| トポロジ | ネットワーク上のコンピューター間での MIM サービスの分布。 たとえば、MIM 2016 同期サービスは、そのデータベースをホストする同じコンピューター上でホストされるかどうかを考慮します。 |
| ハードウェア | MIM コンポーネントごとに実行している物理ハードウェアと仮想化ハードウェアの仕様。 これには、CPU、メモリ、ネットワーク アダプター、およびハード ドライブ構成が含まれます。 |
| MIM ポリシーの構成オブジェクト | MIM ポリシーの構成オブジェクトの数と型。セット、管理ポリシー規則 (MPR)、ワークフローが含まれます。 たとえば、操作にトリガーされるワークロードの数はいくつか、 存在するセット定義の数がいくつで、それぞれの相対的な複雑さはどの程度かを考慮します。 |
| スケーリング | ユーザー、グループ、計算されたグループ、および MIM 2016 によって管理されるコンピューターなどのカスタム オブジェクトの種類の数。 また、動的なグループの複雑性を検討し、グループの入れ子も考慮します。 |
| 読み込み | 使用が予想される頻度。 たとえば、新しいグループまたはユーザーを作成する回数、パスワードをリセットする回数、または特定の期間内にポータルにアクセスされる回数を予測します。 1 時間、1 日、1 週間、または 1 年の間に負荷が異なる場合があることに注意してください。 コンポーネントによっては、ピーク時の負荷または平均負荷に合わせて設計する必要があります。


## Microsoft Identity Manager コンポーネントのホスト
Microsoft Identity Manager には、さまざまなコンポーネントがあります。 多くの場合、これらのコンポーネントは同じコンピューターに配置されていません。 容量計画の観点から MIM を検討する場合、コンポーネントとそれらをホストする物理コンピューター (および場合によっては仮想マシン) は、重要な考慮事項です。 たとえば、MIM 2016 サービス SQL データベースを実行するコンピューターの物理ディスクの構成など、多くの潜在的な要因が、MIM 環境のパフォーマンスに影響します。 ディスクを構成するスピンドル数またはログとデータ ファイルの分散は、システムのパフォーマンスに重大な影響を及ぼす可能性があります。 また、構成内の外部要因も検討します。 MIM 2016 サービス データベースの構成に SAN を使用している場合、他にどのアプリケーションが SAN を共有しているかを考慮します。 これらのアプリケーションによる SAN 上の共有ディスク リソースの競合が発生すると、データベースのパフォーマンスにどのような影響を及ぼすかを検討します。 複数のアプリケーションによる同じディスク リソースの競合が発生すると、ボトルネックと不規則なディスク パフォーマンスという結果になる可能性があります。


## ユーザーとグループ
環境内のユーザーとグループの数は、展開の規模について検討する際の一般的な考慮事項です。 しかし、他にも計画で考慮すべき関連する考慮事項がいくつかあります。 その他の考慮事項を以下に示します。

- ユーザーがグループを作成できますか。 できる場合、ユーザーが新しいグループを作成することで、環境内のグループの増加にどのように影響するかを考慮する必要があります。

- 動的なグループが展開されますか。
  - どのような種類の動的なグループが展開されますか。
  - 展開する可能性のある動的なグループはいくつですか。


## 予想される負荷レベル
また、MIM コンポーネントにかかる負荷の種類を検討する必要があります。 考慮すべきいくつかの関連する質問を以下に示します。

- グループへの参加またはグループからの脱退要求はどのくらいの頻度で発生しますか。

- ユーザーが静的または動的なグループを作成するのはどのくらいの頻度ですか。

- この情報を環境内の既存のアプリケーションから取得できますか。

- 外部システムからの変更の同期など、ユーザーが介入せずに行われる操作でかかる負荷はどの程度ですか。 ID 情報の外部システムとの同期操作によって生じる負荷を確実に把握します。

- どのような種類のシナリオの展開を計画していますか。 シナリオが異なれば、負荷パターンも異なります。 たとえば、MIM 2016 クライアントがインストールされているクライアント コンピューターは、システム負荷が増加する、サインイン時の登録が必要かどうかを定期的に検証します。

- 負荷レベルが、標準からピーク時の負荷まで、大きく変化することが予想されますか。 たとえば、連休明けに多くのパスワードのリセットが発生することが予想されますか。 システム メンテナンスと同期は、必ず予想される使用率のピーク時を避けてスケジュールします。 容量計画を検討する際には、必ず負荷のピーク期間を考慮します。


## ポリシーの構成オブジェクト

Microsoft Identity Manager ポリシーの構成オブジェクトは、MIM 展開のビジネス ロジックを表します。 これは、各 MIM 実装がおそらく一意となる 1 つの領域です。その理由は、ポリシーの構成が各展開の要件に固有であるからです。 MIM ポリシーの構成オブジェクトには、MPR、セット、ワークフロー、および特定の展開のための同期規則が含まれます。 MIM ポリシーの構成オブジェクトに関連する主要なパフォーマンスの考慮事項を以下に示します。

- **セット**: システムのすべての操作は、既存のセットのメンバーシップとセットのメンバーシップの変更を引き起こす更新に対して評価される必要があります。 たとえば、個々のユーザーのオフィスの建物の番号への変更などの単純な変更は、大きな影響がない場合があります。 ただし、マネージャーの変更など、複数のレベルで複数のオブジェクトに影響を及ぼす可能性があるその他の変更には、連鎖的な影響がある場合があります。

- **管理ポリシー規則**： MPR は、アクセス制御規則の制御とワークフローのトリガーに使用されます。 MPR を作成するときに、さまざまなオブジェクトの遷移の状態をキャプチャできるように、セットの数を増やす必要がある場合があります。 これらの追加セットは、各ワークフローをシステム内の一意の要求にマップして、追加のワークフローをトリガーする場合があります。 その後、これは容量計画時に含める別のアイテムになります。

MIM ポリシーの構成オブジェクトの検討時には、以下も検討する必要があります。

- 複数の Active Directory ドメイン サービス (AD DS) フォレストに外部セキュリティ プリンシパルをプロビジョニングしますか。 プロビジョニングすると、さらに多くのワークフローと要求が生成され、結果的にシステムの負荷が増えます。

- コード不要のプロビジョニングを使用しますか。 使用する場合、これは予想される規則エントリの数と、システム内の関連付けられた要求およびワークフローにも影響します。


## 関連項目
- テスト ビルドとパフォーマンス テストの結果に関する詳細は、ダウンロード可能な「[Forefront Identity Manager (FIM) 2010 Capactity Planning Guide (Forefront Identity Manager (FIM) 2010 容量計画ガイド)](http://go.microsoft.com/fwlink/?LinkId=200180)」を参照してください。


<!--HONumber=Apr16_HO2-->


