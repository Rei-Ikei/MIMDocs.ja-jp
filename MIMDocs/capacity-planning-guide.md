---
title: "容量計画ガイド |Microsoft Docs"
description: "このガイドを使用して、負荷レベルやポリシーの決定など、MIM 2016 を展開する前に考慮すべき変数を理解します。"
keywords: 
author: billmath
ms.author: barclayn
manager: mbaldwin
ms.date: 10/12/2017
ms.topic: article
ms.service: microsoft-identity-manager
ms.technology: security
ms.assetid: 3ac5b990-1678-4996-996d-cbd84b8426b4
ms.reviewer: mwahl
ms.suite: ems
ms.openlocfilehash: 32cdf03ffa0d0d282a6277af766f97e93e3a3f3a
ms.sourcegitcommit: 06add1a636720f74bc0c0f25b4100b19f1bd31da
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/17/2017
---
# <a name="capacity-planning-guide"></a>容量計画ガイド

Microsoft Identity Manager (MIM) を使用すると、組織全体でユーザー アカウントを作成、更新、削除することができます。 また、エンド ユーザーが、自分のアカウントをセルフサービス機能で管理できるようになります。 小規模環境であっても、これらすべての操作のメリットをすぐに感じられるでしょう。

MIM を使いはじめる前に、このガイドとテスト環境を併せて活用し、展開に適した範囲を理解してください。 この記事では、考慮に入れる必要のある多くの一般的な要素を紹介します。 しかし、展開環境は 1 つ 1 つ異なりますので、ニーズに合ったサーバー、ハードウェア、トポロジを判断する最も良い方法は、やはりラボで自分のシナリオをテストすることです。

MIM 2016 とそのコンポーネントにまだ慣れていない場合は、先へ進む前に [Microsoft Identity Manager 2016](microsoft-identity-manager-2016.md) の詳細を確認してください。

## <a name="overview"></a>概要

全体の容量と Microsoft Identity Manager の展開のパフォーマンスに影響する可能性のある多くの要素があります。

- MIM コンポーネントを物理的に展開する方法 (トポロジ)。
- これらのコンポーネントを実行するハードウェア。
- MIM ポリシー構成オブジェクトの数と複雑さは、容量を計画するときに考慮すべき重要な要素です。
- 予想される展開のスケールと負荷は、一般的にパフォーマンスと容量に影響を与える、より明白な要素です。

MIM 2016 の展開の容量とパフォーマンスに影響を与える主な要素を、次の表で説明します。

| 設計要素 | 考慮事項 |
| ------------- | -------------- |
| トポロジ | ネットワーク上のコンピューター間での MIM サービスの分布。 |
| ハードウェア | CPU、メモリ、ネットワーク アダプター、ハード ドライブの構成など、各 MIM コンポーネントの物理ハードウェア (物理または仮想)。 |
| MIM ポリシーの構成オブジェクト | MIM ポリシーの構成オブジェクトの数と型。セット、管理ポリシー規則 (MPR)、ワークフローが含まれます。 |
| スケーリング | MIM 2016 によって管理されるユーザー、グループ、計算されたグループ、およびカスタム オブジェクトの種類。 また、動的なグループの複雑性を検討し、グループの入れ子も考慮します。 |
| 読み込み | 使用頻度。 分または時間あたりの、新しいグループやユーザーの作成、パスワードのリセット、ポータル アクセスなどの操作数。 1 時間、1 日、1 週間、または 1 年の間に負荷が異なる場合があることに注意してください。 コンポーネントによっては、ピーク時の負荷または平均負荷に合わせて設計することをお勧めします。 |

## <a name="hosting-microsoft-identity-manager-components"></a>Microsoft Identity Manager コンポーネントのホスト

Microsoft Identity Manager の各コンポーネントは、同じコンピューター上に配置する必要はありません。 これらのコンポーネント、そして各コンポーネントをホストする物理または仮想コンピューターについて検討することは、容量計画の重要な部分です。

複数のハードウェア要因が、MIM 環境のパフォーマンスに影響を与える可能性があります。 たとえば、

- MIM 2016 サービス SQL データベースが実行されるコンピューターの物理ディスクの構成はどのようなものですか。 ディスクを構成するスピンドル数またはログとデータ ファイルの分散は、システムのパフォーマンスに重大な影響を及ぼす可能性があります。

また、構成に含まれる外部要因についても考慮してください。 たとえば、

- MIM 2016 サービス データベースの構成に SAN を使用している場合、他にどのアプリケーションが SAN を共有しているかを考慮します。 こうしたアプリケーションにより SAN 上の共有ディスク リソースで競合が発生すると、データベースのパフォーマンスが影響を受ける可能性があります。

## <a name="users-and-groups"></a>ユーザーとグループ

環境内のユーザーとグループの数は、展開の規模について検討する際の一般的な考慮事項です。 しかし、他にも計画で考慮すべき関連する考慮事項がいくつかあります。

- ユーザーがグループを作成できますか。 できる場合、ユーザーが新しいグループを作成することで、環境内のグループの増加にどのように影響するかを考慮する必要があります。

- 動的なグループが展開されますか。 環境で必要になる動的グループの数と種類を確認してください。

## <a name="expected-load-levels"></a>予想される負荷レベル

また、MIM コンポーネントにかかる負荷の種類を検討する必要があります。 環境内にある現在のアプリケーションを調べることで、負荷を推測する必要があります。 考慮すべきいくつかの関連する質問を以下に示します。

- グループへの参加またはグループからの脱退要求はどのくらいの頻度で発生しますか。

- ユーザーが静的または動的なグループを作成するのはどのくらいの頻度ですか。

- ユーザーが介入せずに行われる操作 (外部システムからの変更の同期など) はどれくらい発生しますか。 外部システムとの ID 情報の同期操作によって生じる負荷も考慮に入れてください。

- どのような種類のシナリオの展開を計画していますか。 シナリオが異なれば、負荷パターンも異なります。 たとえば、MIM 2016 クライアントがインストールされているクライアント コンピューターは、サインイン時の登録が必要かどうかを定期的に検証します。

- 負荷レベルが、標準からピーク時の負荷まで、大きく変化することが予想されますか。 たとえば、休日後は多くのパスワードがリセットされる傾向にあります。 システム メンテナンスと同期は、必ず予想される使用率のピーク時を避けてスケジュールします。 容量計画を検討する際には、必ず負荷のピーク期間を考慮します。

## <a name="policy-configuration-objects"></a>ポリシーの構成オブジェクト

MIM ポリシーの構成オブジェクトには、MPR、セット、ワークフロー、および展開のための同期規則が含まれます。 ポリシー構成が展開ごとのニーズに合わせて変更されるため、MIM の展開はお客様それぞれに固有のものになります。 主要なパフォーマンスの考慮事項には、以下の MIM ポリシー構成オブジェクトが含まれます。

- **セット**: システムのすべての操作は、既存のセットのメンバーシップとセットのメンバーシップの変更を引き起こす更新に対して評価される必要があります。 たとえば、各ユーザーのオフィスの建物番号の変更は、大きな影響がない場合があります。 ただし、マネージャーの変更など、複数のレベルで複数のオブジェクトに影響を及ぼす可能性があるその他の変更には、連鎖的な影響がある場合があります。

- **管理ポリシー規則**： MPR は、アクセス制御規則の制御とワークフローのトリガーを行います。 MPR の作成では、さまざまなオブジェクトの遷移状態をキャプチャできるように、セットの数を増やすことが必要な場合があります。 これらの追加セットは、各ワークフローをシステム内の一意の要求にマップして、追加のワークフローをトリガーする場合があります。 その後、これは容量計画時に含める別のアイテムになります。

MIM のポリシー構成では、環境でのプロビジョニングについての決定も行います。 次の事柄について検討してください。

- 複数の Active Directory ドメイン サービス (AD DS) フォレストに外部セキュリティ プリンシパルをプロビジョニングしますか。 プロビジョニングすると、さらに多くのワークフローと要求が生成され、結果的にシステムの負荷が増えます。

- コード不要のプロビジョニングを使用しますか。 使用する場合、これは予想される規則エントリの数と、システム内の関連付けられた要求およびワークフローにも影響します。

## <a name="next-steps"></a>次のステップ

- [MIM を展開する際のトポロジに関する考慮事項](topology-considerations.md)
- テスト ビルドとパフォーマンス テストの結果に関して詳しくは、ダウンロード可能な「[Forefront Identity Manager (FIM) 2010 Capacity Planning Guide](http://go.microsoft.com/fwlink/?LinkId=200180)」(Forefront Identity Manager (FIM) 2010 容量計画ガイド) をご覧ください。
